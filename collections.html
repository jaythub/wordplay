<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Collector | No-Repeat Edition</title>
    <style>
        :root {
            --primary: #4a90e2;
            --success: #2ecc71;
            --error: #e74c3c;
            --card-yellow: #feca57;
            --card-red: #ff6b6b;
            --card-blue: #4ecdc4;
            --text-dark: #2d3436;
            --bg-color: #fff9f0;
        }

        body {
            font-family: 'Comic Sans MS', 'Chalkboard SE', cursive, sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(var(--card-blue) 1px, transparent 0);
            background-size: 40px 40px; /* Playful background pattern */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        #game-container {
            background: white;
            padding: 35px;
            border-radius: 30px;
            border: 5px solid var(--text-dark);
            box-shadow: 12px 12px 0px var(--text-dark);
            text-align: center;
            width: 100%;
            max-width: 450px;
            transform: rotate(1deg); /* Slight playful tilt */
        }

        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            font-weight: 900;
            color: var(--text-dark);
            text-transform: uppercase;
        }

        .question-box {
            margin-bottom: 2rem;
            background: #fff;
            padding: 10px;
        }

        .prompt-text {
            font-size: 1.1rem;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .display-word {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--text-dark);
            margin-bottom: 1rem;
            display: inline-block;
            animation: bounce 2s infinite ease-in-out;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 1.5rem;
        }

        .option-btn {
            background-color: white;
            border: 3px solid var(--text-dark);
            padding: 15px 10px;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            color: var(--text-dark);
            box-shadow: 4px 4px 0px var(--text-dark);
        }

        .option-btn:hover:not(:disabled) {
            background-color: var(--card-yellow);
            transform: scale(1.05) translate(-2px, -2px);
            box-shadow: 6px 6px 0px var(--text-dark);
        }

        .option-btn:active:not(:disabled) {
            transform: translate(2px, 2px);
            box-shadow: 0px 0px 0px var(--text-dark);
        }

        .option-btn.correct {
            background-color: var(--success) !important;
            color: white;
            transform: scale(1.1);
        }

        .option-btn.wrong {
            background-color: var(--error) !important;
            color: white;
            animation: shake 0.3s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        #next-btn {
            width: 100%;
            padding: 18px;
            background-color: var(--card-blue);
            color: var(--text-dark);
            border: 4px solid var(--text-dark);
            border-radius: 15px;
            font-size: 1.3rem;
            font-weight: 900;
            cursor: pointer;
            display: none;
            box-shadow: 4px 4px 0px var(--text-dark);
            text-transform: uppercase;
        }

        #next-btn:hover {
            background-color: var(--card-yellow);
            transform: translateY(-2px);
            box-shadow: 6px 6px 0px var(--text-dark);
        }

        #feedback {
            margin-top: 1.5rem;
            font-weight: 900;
            font-size: 1.2rem;
            min-height: 1.5rem;
        }

        .progress-bar {
            height: 10px;
            background: #eee;
            border: 3px solid var(--text-dark);
            border-radius: 10px;
            margin-top: 10px;
            overflow: hidden;
        }

        #progress-fill {
            height: 100%;
            background: var(--card-red);
            width: 0%;
            transition: width 0.3s;
        }

        .back-link {
            display: block;
            margin-top: 20px;
            color: var(--text-dark);
            text-decoration: none;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .back-link:hover { text-decoration: underline; }

        @media (max-width: 400px) {
            .options-grid { grid-template-columns: 1fr; }
            #game-container { transform: none; }
        }
    </style>
</head>
<body>

<div id="game-container">
    <div class="stats">
        <span>Score: <span id="score">0</span> üèÜ</span>
        <span id="progress-text">Q: 0/0</span>
    </div>
    <div class="progress-bar"><div id="progress-fill"></div></div>

    <div class="question-box" style="margin-top: 20px;">
        <div class="prompt-text" id="prompt">Match the collection:</div>
        <div class="display-word" id="display-word">---</div>
    </div>

    <div class="options-grid" id="options-container"></div>

    <button id="next-btn">Next! ‚ûî</button>
    <div id="feedback"></div>

    <a href="index.html" class="back-link">‚Üê Back to English Workshop</a>
</div>

<script>
    // Data and Logic (Retained from your original collectionsGame.html)
    const masterData = [
        { term: "A dozen", object: "Eggs" }, { term: "A single", object: "Ticket" },
        { term: "Audience", object: "Concert-goers" }, { term: "Mob", object: "Rioters" },
        { term: "Congregation", object: "Church-goers" }, { term: "Crowd", object: "People in the street" },
        { term: "Rabble", object: "Rowdy people" }, { term: "Soloist", object: "Singer" },
        { term: "Monocle", object: "Single eye-glass" }, { term: "Unicorn", object: "One-horned animal" },
        { term: "Biped", object: "Two-footed animal" }, { term: "Biplane", object: "Two-winged plane" },
        { term: "Duet", object: "Two performers" }, { term: "Duel", object: "Two combatants" },
        { term: "Tripod", object: "Three-legged stand" }, { term: "Trio", object: "Three singers" },
        { term: "Quadruped", object: "Four-footed animal" }, { term: "Quartet", object: "Four singers" },
        { term: "Decade", object: "Ten years" }, { term: "Century", object: "Hundred years" },
        { term: "Centenarian", object: "Person aged 100" }, { term: "Centurion", object: "Roman commander" },
        { term: "Centipedes", object: "100-footed creatures" },
        { term: "Brace", object: "Grouse" }, { term: "Couple", object: "Chairs" },
        { term: "Pair", object: "Boots" }, { term: "Mob", object: "Kangaroos" },
        { term: "Army", object: "Ants" }, { term: "Herd", object: "Cattle" },
        { term: "Litter", object: "Cubs" }, { term: "Bench", object: "Bishops" },
        { term: "Bevy", object: "Ladies" }, { term: "Board", object: "Directors" },
        { term: "Brood", object: "Chickens" }, { term: "Building", object: "Rooks" },
        { term: "Choir", object: "Singers" }, { term: "Class", object: "Students" },
        { term: "Company", object: "Actors" }, { term: "Covey", object: "Grouse" },
        { term: "Crew", object: "Sailors" }, { term: "Drove", object: "Cattle" },
        { term: "Flock", object: "Sheep" }, { term: "Gaggle", object: "Geese" },
        { term: "Gang", object: "Thieves" }, { term: "Host", object: "Angels" },
        { term: "Nest", object: "Rabbits" }, { term: "Pack", object: "Wolves" },
        { term: "Plague", object: "Locusts" }, { term: "Pride", object: "Lions" },
        { term: "School", object: "Whales" }, { term: "Shoal", object: "Herring" },
        { term: "Staff", object: "Teachers" }, { term: "Stud", object: "Horses" },
        { term: "Swarm", object: "Bees" }, { term: "Team", object: "Oxen" },
        { term: "Troop", object: "Monkeys" }, { term: "Troupe", object: "Dancers" },
        { term: "Cete", object: "Badgers" }, { term: "Skulk", object: "Foxes" },
        { term: "Sloth", object: "Bears" }, { term: "Clowder", object: "Cats" },
        { term: "Siege", object: "Herons" }, { term: "Smuck", object: "Jellyfish" },
        { term: "Watch", object: "Nightingales" }, { term: "Labor", object: "Moles" },
        { term: "Leap", object: "Leopards" }, { term: "Muster", object: "Peacocks" },
        { term: "Nide", object: "Pheasants" }, { term: "Paddling", object: "Ducks" },
        { term: "Bale", object: "Cotton" }, { term: "Batch", object: "Bread" },
        { term: "Bouquet", object: "Flowers" }, { term: "Bunch", object: "Grapes" },
        { term: "Bundle", object: "Rags" }, { term: "Chest", object: "Drawers" },
        { term: "Clump", object: "Trees" }, { term: "Forest", object: "Trees" },
        { term: "Hail", object: "Bullets" }, { term: "Hedge", object: "Bushes" },
        { term: "Library", object: "Books" }, { term: "Pack", object: "Cards" },
        { term: "Rope", object: "Pearls" }, { term: "Cluster", object: "Stars" },
        { term: "Set", object: "China" }, { term: "Sheaf", object: "Corn" },
        { term: "String", object: "Beads" }, { term: "Clutch", object: "Eggs" },
        { term: "Crate", object: "Fruit" }, { term: "Fleet", object: "Ships" },
        { term: "Flight", object: "Steps" }, { term: "Stack", object: "Hay" },
        { term: "Suit", object: "Clothes" }, { term: "Suite", object: "Furniture" },
        { term: "Tuft", object: "Grass" }, { term: "Galaxy", object: "Stars" },
        { term: "Peal", object: "Bells" }, { term: "Punnet", object: "Strawberries" },
        { term: "Truss", object: "Hay" }, { term: "Bunch", object: "Bananas" }
    ];

    let deck = [];
    let score = 0;
    let questionsPlayed = 0;
    let currentCorrectAnswer = "";
    let isTermMode = true;

    const displayEl = document.getElementById('display-word');
    const promptEl = document.getElementById('prompt');
    const optionsContainer = document.getElementById('options-container');
    const nextBtn = document.getElementById('next-btn');
    const feedbackEl = document.getElementById('feedback');
    const scoreEl = document.getElementById('score');
    const progressText = document.getElementById('progress-text');
    const progressFill = document.getElementById('progress-fill');

    function shuffleDeck() {
        deck = [...masterData].sort(() => Math.random() - 0.5);
        questionsPlayed = 0;
    }

    function loadQuestion() {
        if (deck.length === 0) {
            feedbackEl.textContent = "Round complete! Re-shuffling...";
            shuffleDeck();
        }

        const pair = deck.pop();
        questionsPlayed++;
        
        const total = masterData.length;
        progressText.textContent = `Q: ${questionsPlayed}/${total}`;
        progressFill.style.width = `${(questionsPlayed / total) * 100}%`;

        feedbackEl.textContent = "";
        nextBtn.style.display = "none";
        optionsContainer.innerHTML = "";
        
        isTermMode = Math.random() > 0.5;
        const questionValue = isTermMode ? pair.term : pair.object;
        currentCorrectAnswer = isTermMode ? pair.object : pair.term;

        promptEl.textContent = isTermMode ? `A ${questionValue} of...` : `A group of ${questionValue} is a...`;
        displayEl.textContent = questionValue;

        let choices = [currentCorrectAnswer];
        while (choices.length < 4) {
            let randomPair = masterData[Math.floor(Math.random() * masterData.length)];
            let randomChoice = isTermMode ? randomPair.object : randomPair.term;
            if (!choices.includes(randomChoice)) {
                choices.push(randomChoice);
            }
        }

        choices.sort(() => Math.random() - 0.5);

        choices.forEach(choice => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = choice;
            btn.onclick = () => handleGuess(btn, choice);
            optionsContainer.appendChild(btn);
        });
    }

    function handleGuess(selectedBtn, choice) {
        const buttons = document.querySelectorAll('.option-btn');
        buttons.forEach(btn => btn.disabled = true);

        if (choice === currentCorrectAnswer) {
            selectedBtn.classList.add('correct');
            feedbackEl.textContent = "Correct! ‚ú®";
            feedbackEl.style.color = "var(--success)";
            score++;
            scoreEl.textContent = score;
        } else {
            selectedBtn.classList.add('wrong');
            feedbackEl.textContent = `Oops! It's ${currentCorrectAnswer}.`;
            feedbackEl.style.color = "var(--error)";
            buttons.forEach(btn => {
                if (btn.textContent === currentCorrectAnswer) btn.classList.add('correct');
            });
        }
        nextBtn.style.display = "block";
    }

    nextBtn.onclick = loadQuestion;
    shuffleDeck();
    loadQuestion();
</script>

</body>
</html>
